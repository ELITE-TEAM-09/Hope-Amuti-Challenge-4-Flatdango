<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Code Challenge</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.css" />
  <link rel="stylesheet" href="assets/index.css" />
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>

<body>
  <!-- navbar -->
  <div class="heading">
    <div class="item">
      <h2 class="ui header">
        <i class="orange ticket icon"></i>
        <div class="content">FLATDANGO</div>
        <div class="sub header" id="subtitle">BUY MOVIE TICKETS</div>
      </h2>
    </div>
  </div>

  <div class="ui centered grid">
    <div class="four wide column">
      <div class="list-container">
        <!-- side menu -->
        <ul class="ui divided list" id="films">
          <!-- Films will be populated here dynamically -->
          <li class="film item">The Giant Gila Monster</li>
          <li class="film item">Manos: The Hands Of Fate</li>
          <li class="film item">Time Chasers</li>
          <li class="film item">The Touch Of Satan</li>
          <li class="film item">Santa Claus Conquers The Martians</li>
          <li class="film item">Track Of The Moon Beast</li>
          <li class="film item">The Skydivers</li>
          <li class="film item">The Killer Shrew</li>
          <li class="film item">Project Moon Base</li>
        </ul>
      </div>
    </div>

    <!-- poster -->
    <div class="four wide column">
      <img id="poster" src="" alt="Movie Poster" />
    </div>

    <!-- showing info -->
    <div class="four wide column">
      <div class="ui cards" id="showing">
        <div class="card">
          <div id="title" class="title">[Movie Title]</div>
          <div id="runtime" class="meta">[Runtime] minutes</div>
          <div class="content">
            <div class="description">
              <div id="film-info">[Movie Description]</div>
              <span id="showtime" class="ui label">[Showtime]</span>
              <span id="num">[Remaining Tickets]</span> remaining tickets
            </div>
          </div>
          <div class="extra content">
            <button id="buy-ticket" class="ui orange button">Buy Ticket</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="src/index.js"></script>
  <script>
    $(document).ready(function () {
      const movies = [
        {
          id: "1",
          title: "The Giant Gila Monster",
          runtime: "108",
          capacity: 30,
          showtime: "108",
          tickets_sold: 27,
          description: "A giant lizard terrorizes a rural Texas community and a heroic teenager attempts to destroy the creature.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/2157/p2157_v_v8_ab.jpg"
        },
        {
          id: "2",
          title: "Manos: The Hands Of Fate",
          runtime: "118",
          capacity: 50,
          showtime: "06:45PM",
          tickets_sold: 44,
          description: "A family gets lost on the road and stumbles upon a hidden, underground, devil-worshiping cult led by the fearsome Master and his servant Torgo.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/47781/p47781_v_v8_ac.jpg"
        },
        {
          id: "3",
          title: "Time Chasers",
          runtime: "93",
          capacity: 50,
          showtime: "09:30PM",
          tickets_sold: 31,
          description: "An inventor comes up with a time machine, but must prevent its abuse at the hands of an evil C.E.O.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/23342/p23342_v_v8_ab.jpg"
        },
        {
          id: "4",
          title: "The Touch Of Satan",
          runtime: "101",
          capacity: 40,
          showtime: "09:00PM",
          tickets_sold: 31,
          description: "A young man meets a farm girl who is actually a witch.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/43468/p43468_v_v8_aa.jpg"
        },
        {
          id: "5",
          title: "Santa Claus Conquers The Martians",
          runtime: "96",
          capacity: 50,
          showtime: "03:30PM",
          tickets_sold: 45,
          description: "The Martians kidnap Santa Claus because there is nobody on Mars to give their children presents.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/4232/p4232_v_v8_aa.jpg"
        },
        {
          id: "6",
          title: "Track Of The Moon Beast",
          runtime: "112",
          capacity: 30,
          showtime: "10:30PM",
          tickets_sold: 16,
          description: "A young man is transformed into a hideous 'moon beast' due to a meteor fragment lodged in his body.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/39804/p39804_v_v8_ab.jpg"
        },
        {
          id: "7",
          title: "The Skydivers",
          runtime: "94",
          capacity: 30,
          showtime: "07:30PM",
          tickets_sold: 22,
          description: "A woman seeks revenge on her former lover, who owns a skydiving business.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/40518/p40518_v_v8_aa.jpg"
        },
        {
          id: "8",
          title: "The Killer Shrew",
          runtime: "115",
          capacity: 40,
          showtime: "08:30PM",
          tickets_sold: 32,
          description: "On an isolated island, a small group of people are terrorized by giant voracious shrews in the midst of a hurricane.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/1466/p1466_v_v8_ab.jpg"
        },
        {
          id: "9",
          title: "Project Moon Base",
          runtime: "99",
          capacity: 40,
          showtime: "07:30PM",
          tickets_sold: 22,
          description: "A saboteur posing as a scientist strives to destroy the world's first space station.",
          poster: "https://www.gstatic.com/tv/thumb/v22vodart/46755/p46755_v_v8_aa.jpg"
        }
      ];

      $(".film.item").on("click", function () {
        const index = $(this).index();
        const movie = movies[index];

        $("#poster").attr("src", movie.poster);
        $("#title").text(movie.title);
        $("#runtime").text(movie.runtime + " minutes");
        $("#film-info").text(movie.description);
        $("#showtime").text(movie.showtime);
        $("#num").text(movie.capacity - movie.tickets_sold);
      });
    });
  </script>
</body>

</html>
